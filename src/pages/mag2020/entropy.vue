<template lang="pug">
v-container(fluid)
  v-row
    v-col(col='12')
      v-card#subjectChart1.mx-auto(outlined :loading='loading2' height='45vh')
    v-col(col='12')
      v-card#subjectChart2.mx-auto(outlined :loading='loading2' height='45vh')
    v-col(col='12')
      v-card#subjectChart3.mx-auto(outlined :loading='loading2' height='45vh')
  v-row
    v-col
      comment(storagekey='wikipedia_build_disruption_people_graph_1').
</template>

<script>
import { requestWrap } from '@/api/index'

import comment from '@/components/comment'
import {
  peopleCategorys,
  extendEchartsOpts,
  extendLineSeries
} from '@/api/data'
import Base from '@/utils/base'

const peopleOpt = peopleCategorys.map(item => {
  return {
    value: item[0],
    text: item[1]
  }
})
export default {
  name: 'MAGEntropy',
  components: {
    comment
  },
  extends: Base,
  data() {
    return {
      pageName: 'MAG   Entropy',
      chartDatas_1: { 'quart': [[[1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 6, 6, 6, 6], [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 6, 6, 6, 6, 6, 6, 6, 7, 7, 7, 7, 7, 7, 8, 8, 8, 8, 8, 8, 9, 9, 9, 9, 9, 9, 9, 10, 10, 10, 10, 10, 10, 11, 11, 11, 11, 12, 12, 12, 13, 13, 13, 14, 14, 15, 15, 16, 16, 16, 17, 17, 17, 17, 18, 18], [44, 47, 51, 60, 68, 74, 80, 85, 92, 95, 99, 102, 107, 109, 114, 117, 118, 118, 119, 122, 127, 140, 150, 171, 179, 198, 224, 243, 262, 296, 332, 366, 384, 399, 414, 422, 438, 457, 476, 491, 506, 513, 529, 532, 540, 541, 542, 548, 550, 579, 618, 661, 707, 744, 770, 830, 943, 1064, 1203, 1348, 1493, 1645, 1834, 2035, 2476, 3248, 4273, 5487, 7004, 8835, 11215, 14143, 17552, 21330, 25622, 30326, 35518, 41235, 47554, 54043, 60754, 67643, 74696, 81578, 88437, 95539, 102560, 109417, 116167, 122733, 128955, 134757, 140439, 145294, 149763, 154369, 158553, 162779, 167040, 171202, 175207, 178973, 182727, 186343, 189938, 193835, 198116, 202092, 206353, 211230, 215391, 219821, 224547, 229269, 233957, 238174, 241683, 244717, 247249, 249956, 251925]], [[1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 6, 6, 6, 6, 6, 6], [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 6, 6, 6, 6, 6, 6, 6, 6, 7, 7, 7, 7, 7, 7, 7, 8, 8, 8, 8, 8, 8, 8, 9, 9, 9, 9, 9, 10, 10, 10, 10, 11, 11, 11, 11, 12, 12, 12, 13, 13, 13, 14, 14, 14, 15, 15, 16], [3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 6, 6, 6, 6, 6, 6, 6, 6, 6, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 8, 8, 8, 8, 8, 8, 8, 8, 9, 9, 9, 9, 9, 9, 10, 10, 10, 10, 10, 11, 11, 11, 11, 11, 12, 12, 12, 13, 13, 13, 13, 14, 14, 14, 15, 15, 15, 15, 16, 16, 16, 16, 17, 17, 17, 18, 18, 19, 19, 19, 20, 20, 21, 21, 22, 23, 23, 24, 24, 25, 26, 26, 27, 28, 28, 29, 30, 31, 31], [266, 266, 352, 353, 354, 354, 354, 354, 354, 354, 528, 1238, 1238, 1238, 1238, 1238, 1238, 1238, 1238, 1238, 1238, 1238, 1238, 1238, 1309, 1310, 1310, 1310, 1310, 1310, 1310, 1310, 1310, 1310, 1310, 1310, 1310, 1310, 1310, 1310, 1310, 1310, 1310, 1310, 1310, 1310, 1310, 1310, 1310, 1310, 1310, 1310, 1946, 2092, 2092, 2092, 2653, 2653, 2653, 2818, 5422, 5426, 5426, 5426, 5426, 5426, 5427, 5427, 5427, 5427, 5427, 5427, 5427, 5427, 5427, 5427, 6481, 6868, 6885, 6890, 6891, 6892, 6893, 6893, 6894, 6894, 6894, 6894, 6895, 6895, 6895, 8019, 8022, 8022, 8023, 8025, 13068, 13126, 13127, 13127, 13145, 13145, 13146, 13147, 13147, 13147, 13147, 13149, 13169, 13210, 13212, 13514, 13566, 13578, 20299, 23108, 23437, 26333, 26340, 26340, 26341]], [[1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4], [1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 6, 6, 6, 6, 6, 6, 7, 7, 7, 7, 7, 7, 7, 8, 8, 8, 8, 8, 8, 9, 9, 9, 9, 9, 10, 10, 10, 11, 11, 11, 12, 12, 12, 13, 13, 14, 14, 14, 15, 15, 16, 16], [3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 7, 7, 7, 7, 7, 7, 8, 8, 8, 8, 8, 9, 9, 9, 9, 10, 10, 10, 10, 11, 11, 11, 12, 12, 12, 13, 13, 13, 14, 14, 15, 15, 15, 16, 16, 17, 17, 17, 18, 18, 18, 19, 19, 20, 20, 20, 21, 21, 22, 22, 23, 23, 24, 25, 26, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41], [266, 266, 352, 353, 355, 355, 355, 355, 355, 355, 528, 1238, 1238, 1238, 1238, 1238, 1238, 1238, 1238, 1238, 1238, 1238, 1238, 1238, 1309, 1310, 1310, 1310, 1310, 1310, 1310, 1310, 1310, 1310, 1310, 1310, 1310, 1310, 1310, 1310, 1310, 1310, 1310, 1310, 1310, 1310, 1310, 1310, 1310, 1310, 1310, 1311, 1947, 2092, 2092, 2094, 2653, 2653, 2653, 2818, 5422, 5426, 5426, 5426, 5426, 5427, 5428, 5487, 7004, 8835, 11215, 14143, 17552, 21330, 25622, 30326, 35518, 41235, 47554, 54043, 60754, 67643, 74696, 81578, 88437, 95539, 102560, 109417, 116167, 122733, 128955, 134757, 140439, 145294, 149763, 154369, 158553, 162779, 167040, 171202, 175207, 178973, 182727, 186343, 189938, 193835, 198116, 202092, 206353, 211230, 215391, 219821, 224547, 229269, 233957, 238174, 241683, 244717, 247249, 249956, 251925]]], 'average': [[1.7685, 1.8038, 1.8421, 1.8792, 1.9205, 1.9484, 1.9805, 2.0117, 2.049, 2.0732, 2.0926, 2.1525, 2.1853, 2.2095, 2.2254, 2.2263, 2.2294, 2.234, 2.2455, 2.258, 2.2746, 2.2976, 2.3248, 2.3559, 2.3904, 2.4269, 2.4767, 2.5264, 2.5869, 2.6511, 2.7205, 2.786, 2.8404, 2.8998, 2.9453, 2.9889, 3.0401, 3.0918, 3.1417, 3.1901, 3.2354, 3.2726, 3.3114, 3.339, 3.3571, 3.3726, 3.388, 3.4143, 3.4471, 3.488, 3.548, 3.6045, 3.669, 3.743, 3.8111, 3.9023, 3.9902, 4.0786, 4.1739, 4.2729, 4.3814, 4.4906, 4.6059, 4.7288, 4.8702, 5.0129, 5.1591, 5.3168, 5.4747, 5.6397, 5.7877, 5.9588, 6.1344, 6.3103, 6.4985, 6.6857, 6.8581, 7.0399, 7.2328, 7.4304, 7.6271, 7.8228, 8.0226, 8.2124, 8.4039, 8.5933, 8.7783, 8.9546, 9.1403, 9.3325, 9.526, 9.7207, 9.9226, 10.102, 10.2777, 10.4753, 10.6781, 10.9038, 11.1569, 11.4313, 11.7189, 12.0297, 12.3727, 12.7495, 13.1422, 13.5765, 14.0516, 14.5426, 15.0426, 15.5562, 16.0687, 16.626, 17.2093, 17.7917, 18.3376, 18.8618, 19.3395, 19.7932, 20.134, 20.4794, 20.7465], [2.9425, 3.0089, 3.1869, 3.3242, 3.409, 3.4736, 3.5412, 3.6024, 3.6984, 3.7355, 3.8236, 4.1211, 4.2276, 4.2914, 4.359, 4.3882, 4.4246, 4.4538, 4.482, 4.5334, 4.5845, 4.6469, 4.7391, 4.8036, 4.8725, 4.9569, 5.0832, 5.222, 5.3821, 5.5558, 5.7254, 5.8729, 5.983, 6.0703, 6.1211, 6.163, 6.2274, 6.2933, 6.3808, 6.4707, 6.5383, 6.5979, 6.6427, 6.6803, 6.7112, 6.7266, 6.7359, 6.7633, 6.8063, 6.8667, 6.9492, 7.0087, 7.0795, 7.164, 7.2582, 7.3976, 7.4984, 7.597, 7.696, 7.8077, 7.9543, 8.0688, 8.1811, 8.3137, 8.4396, 8.5554, 8.6765, 8.8064, 8.9301, 9.0577, 9.1439, 9.2643, 9.3835, 9.5076, 9.6705, 9.8447, 10.0221, 10.2018, 10.3829, 10.5844, 10.7766, 10.9768, 11.1953, 11.3924, 11.5937, 11.7862, 11.9776, 12.1548, 12.3256, 12.5094, 12.6954, 12.8966, 13.106, 13.2965, 13.4961, 13.7301, 13.9672, 14.2114, 14.4863, 14.7882, 15.0989, 15.4194, 15.7716, 16.1456, 16.5167, 16.9146, 17.3203, 17.7317, 18.1685, 18.6132, 19.0249, 19.4884, 19.9759, 20.4576, 20.9082, 21.3581, 21.7842, 22.2505, 22.6694, 23.1598, 23.5368], [2.6121, 2.6771, 2.7794, 2.8697, 2.9455, 3.0031, 3.0648, 3.124, 3.1973, 3.2374, 3.2837, 3.4374, 3.51, 3.5541, 3.59, 3.5967, 3.6123, 3.6227, 3.6394, 3.6649, 3.6929, 3.7325, 3.787, 3.8383, 3.8964, 3.9629, 4.0569, 4.1542, 4.2686, 4.3919, 4.5256, 4.6464, 4.7459, 4.8468, 4.9218, 4.9949, 5.0857, 5.1754, 5.2719, 5.3675, 5.4486, 5.5177, 5.5825, 5.6314, 5.6672, 5.6917, 5.7142, 5.7553, 5.8065, 5.8772, 5.9754, 6.0648, 6.1668, 6.2876, 6.4074, 6.5679, 6.7091, 6.8535, 7.0033, 7.163, 7.347, 7.5226, 7.7061, 7.9071, 8.1264, 8.3459, 8.5724, 8.8124, 9.0533, 9.3022, 9.5109, 9.7574, 10.0063, 10.2608, 10.5441, 10.8329, 11.1116, 11.4, 11.6993, 12.0153, 12.3249, 12.6398, 12.9699, 13.2806, 13.5926, 13.8973, 14.1967, 14.48, 14.7638, 15.0633, 15.3673, 15.6857, 16.0135, 16.3103, 16.6031, 16.9331, 17.2717, 17.6385, 18.058, 18.5254, 19.0139, 19.532, 20.1022, 20.7222, 21.3557, 22.0464, 22.7783, 23.53, 24.3066, 25.1054, 25.868, 26.7035, 27.5883, 28.4716, 29.3097, 30.1431, 30.9414, 31.7789, 32.4851, 33.2369, 33.794]], 'var': [[2.6595, 2.8797, 3.091, 3.3062, 3.5433, 3.7542, 3.9392, 4.1358, 4.3819, 4.5629, 4.7044, 4.9447, 5.1911, 5.4137, 5.6098, 5.6765, 5.734, 5.7909, 5.9088, 6.0144, 6.1952, 6.4406, 6.7127, 7.0809, 7.4414, 7.8944, 8.5637, 9.2101, 10.0234, 11.043, 12.0899, 13.1341, 14.0372, 15.1075, 15.84, 16.6151, 17.5407, 18.5287, 19.4589, 20.4413, 21.3458, 22.0418, 22.846, 23.409, 23.8459, 24.1669, 24.4971, 25.0731, 25.7662, 26.7481, 28.1373, 29.6243, 31.371, 33.3649, 35.3456, 38.0962, 40.9912, 44.195, 47.8615, 52.0606, 56.8696, 62.1758, 68.3333, 75.3952, 84.6686, 95.7796, 109.4801, 126.1728, 146.2094, 170.7751, 201.3541, 241.1038, 289.1943, 344.6015, 410.4127, 485.2336, 570.2406, 668.0338, 781.5807, 902.7268, 1031.2768, 1166.899, 1309.9093, 1452.0557, 1596.1016, 1751.5233, 1910.9213, 2070.517, 2235.3481, 2402.3929, 2566.2525, 2723.7657, 2886.4979, 3015.4169, 3132.3565, 3270.7571, 3394.1223, 3537.7783, 3685.9727, 3834.5018, 3974.5826, 4110.8338, 4249.6751, 4394.7938, 4549.4135, 4728.0255, 4945.7389, 5180.5763, 5447.7418, 5758.8463, 6093.4918, 6505.1623, 6985.8393, 7630.9518, 8228.4737, 8851.8376, 9449.1548, 10047.8063, 10577.8009, 11201.8727, 11652.3986], [21.802, 21.9155, 33.8238, 43.8269, 45.6232, 47.1516, 48.2192, 48.6362, 51.9413, 50.4895, 61.5317, 180.9803, 191.0419, 183.1687, 179.962, 176.7694, 186.6553, 183.9257, 181.1898, 182.781, 179.549, 176.1332, 184.7286, 190.3791, 209.7474, 212.019, 211.2979, 216.1261, 223.4599, 252.2243, 286.1578, 303.3526, 301.7742, 303.0336, 299.1892, 291.2083, 289.5166, 287.6614, 291.3076, 295.7585, 296.0699, 293.5662, 290.2104, 288.2748, 287.7008, 284.9455, 284.0617, 281.9548, 282.4055, 288.263, 294.5504, 290.9075, 295.5524, 312.7818, 318.4179, 350.9157, 372.0562, 372.1455, 371.0538, 394.6131, 478.012, 486.434, 499.0183, 505.118, 503.1151, 500.3572, 499.9711, 490.7687, 486.2602, 482.9023, 473.7111, 467.4273, 467.1815, 463.1084, 463.1423, 464.8088, 477.0555, 477.3093, 473.4594, 475.3319, 476.852, 477.8328, 501.4642, 501.2262, 504.0364, 504.9709, 504.2435, 501.7861, 499.9803, 498.8877, 497.7003, 504.9656, 515.1291, 513.8653, 514.6203, 527.0503, 545.2257, 547.877, 556.0016, 563.5068, 574.823, 584.9331, 601.7211, 621.0674, 641.1871, 662.1707, 680.7814, 700.2961, 723.7497, 746.0646, 773.7595, 803.0535, 832.4645, 853.0702, 880.0395, 903.3454, 911.8215, 936.5664, 945.3132, 956.9893, 966.5413], [14.43, 14.8963, 20.3597, 24.9497, 26.1567, 27.1833, 28.0208, 28.6245, 30.4117, 30.1405, 35.0243, 84.7627, 89.1107, 86.1012, 84.7253, 83.1957, 87.1689, 85.9057, 84.8816, 85.4273, 84.1692, 83.0279, 86.6249, 89.4609, 97.8943, 99.5477, 100.2043, 102.9154, 106.9815, 119.7349, 134.8613, 143.3581, 144.4372, 147.3549, 147.6207, 146.3611, 147.8666, 149.2963, 152.6498, 156.4059, 158.4092, 158.8099, 159.07, 159.4145, 159.9739, 159.399, 159.6628, 159.7735, 161.0603, 165.1646, 170.1128, 171.0472, 175.9149, 186.7688, 192.4276, 210.9645, 224.8716, 229.8571, 234.7625, 251.4413, 296.5422, 308.0844, 322.6694, 335.0046, 346.126, 358.6421, 374.4843, 388.5062, 407.8396, 431.5299, 456.737, 490.9712, 535.0108, 582.906, 641.4221, 708.0489, 789.0584, 873.7915, 968.9252, 1073.9942, 1184.5028, 1300.8806, 1437.0206, 1558.4714, 1683.1295, 1815.5712, 1950.4156, 2084.0518, 2220.6315, 2359.9797, 2497.1006, 2635.922, 2780.6327, 2891.4949, 2994.042, 3121.9597, 3241.5305, 3367.6026, 3503.5722, 3643.29, 3779.9108, 3912.9721, 4054.3243, 4203.2884, 4359.9328, 4536.8196, 4742.2883, 4962.3114, 5214.0254, 5502.0872, 5806.7328, 6176.2768, 6605.4026, 7160.792, 7684.3802, 8232.6832, 8758.1733, 9317.7512, 9820.9144, 10418.1521, 10848.1253]], 'count': [[30328, 32851, 36983, 40894, 44217, 47794, 51605, 55580, 60155, 64462, 69744, 78240, 84458, 90932, 97566, 102162, 106803, 110944, 114829, 120010, 126253, 133797, 143739, 154113, 165929, 179337, 195016, 212366, 231164, 251383, 273289, 296034, 320112, 343344, 365330, 388432, 413312, 439120, 467390, 497103, 522270, 547577, 569437, 590206, 609430, 626293, 646001, 670518, 701449, 739009, 782351, 828600, 878492, 936126, 996804, 1063883, 1130428, 1201100, 1279642, 1365629, 1464306, 1564300, 1672888, 1794918, 1923552, 2065609, 2222143, 2395638, 2580520, 2775110, 3002398, 3241711, 3499493, 3766387, 4040746, 4330727, 4644141, 4970414, 5307356, 5667472, 6051801, 6460285, 6887353, 7335604, 7814229, 8307887, 8830711, 9389522, 9982276, 10611325, 11277826, 11987189, 12726553, 13487236, 14298035, 15168966, 16087034, 17052139, 18084655, 19180696, 20366234, 21599987, 22932459, 24349452, 25878795, 27545797, 29360839, 31306119, 33438118, 35765209, 38178443, 40781455, 43554166, 46557530, 49705617, 52827304, 55797716, 58777511, 61579422, 64891312, 67037207], [18228, 19694, 21377, 23118, 24910, 26808, 28861, 31037, 33327, 35777, 38171, 40866, 43656, 46819, 49811, 51830, 53814, 55649, 57530, 59775, 62642, 66156, 70511, 75585, 81401, 87803, 95017, 102741, 111110, 119951, 129856, 140433, 151970, 164014, 175787, 188380, 201776, 215735, 230132, 245076, 258442, 271604, 283870, 295005, 304857, 314013, 324926, 338494, 355257, 375384, 399434, 426138, 455281, 489100, 523400, 561205, 601551, 644825, 694002, 747368, 806562, 870586, 941816, 1020938, 1110004, 1210309, 1321285, 1446357, 1582013, 1727880, 1900388, 2085077, 2287754, 2499794, 2715365, 2941056, 3177987, 3429935, 3697142, 3978674, 4283159, 4604073, 4935522, 5288012, 5664258, 6057273, 6472001, 6917397, 7402548, 7916444, 8462371, 9035199, 9635349, 10246954, 10888389, 11573028, 12298795, 13083460, 13928315, 14826632, 15807164, 16851671, 17990335, 19227788, 20591539, 22109609, 23819867, 25675598, 27685026, 29891156, 32246081, 34791541, 37521869, 40490366, 43594585, 46652771, 49536038, 52286057, 54692161, 57381177, 59089886], [41038, 44239, 48987, 53521, 57613, 61964, 66642, 71522, 77038, 82496, 88824, 97920, 105094, 112991, 120881, 126388, 131746, 136740, 141605, 147788, 155434, 164624, 176373, 189075, 203460, 219522, 237971, 258145, 280026, 303311, 328381, 354800, 382938, 410579, 436962, 464563, 493801, 524303, 556674, 590460, 619778, 649045, 675026, 699349, 721460, 741627, 765411, 794886, 832146, 876420, 928234, 984006, 1044321, 1113439, 1184576, 1262885, 1343215, 1428026, 1523630, 1627435, 1744467, 1865433, 1997358, 2144227, 2302590, 2478004, 2670907, 2886546, 3116308, 3359748, 3648374, 3953109, 4283861, 4625097, 4972710, 5336942, 5723588, 6129062, 6551912, 6998692, 7478590, 7984387, 8507588, 9058866, 9648305, 10259248, 10904925, 11596645, 12342654, 13130166, 13962734, 14837023, 15750548, 16684719, 17678315, 18743417, 19865771, 21055824, 22318789, 23641849, 25073957, 26574624, 28195411, 29926895, 31813934, 33887090, 36183361, 38653999, 41342153, 44274866, 47381390, 50730036, 54282848, 58130333, 62137986, 66052125, 69689828, 73156083, 76269981, 79902264, 82242347]], 'e': [[10.0642, 10.1355, 10.2475, 10.3416, 10.4133, 10.4844, 10.5566, 10.6255, 10.6978, 10.7617, 10.8369, 10.9488, 11.0197, 11.0883, 11.1538, 11.1973, 11.24, 11.2763, 11.3079, 11.3499, 11.3968, 11.4499, 11.5163, 11.5793, 11.6469, 11.7174, 11.7907, 11.8673, 11.9428, 12.0153, 12.0889, 12.1599, 12.2307, 12.2922, 12.3494, 12.4049, 12.4608, 12.5149, 12.5722, 12.6284, 12.673, 12.7165, 12.7519, 12.7853, 12.815, 12.8408, 12.8702, 12.9049, 12.9469, 12.9942, 13.0448, 13.0956, 13.1466, 13.2023, 13.2578, 13.3136, 13.365, 13.4156, 13.4691, 13.5227, 13.5804, 13.6347, 13.6902, 13.7492, 13.8049, 13.8616, 13.9198, 13.9806, 14.0408, 14.0994, 14.1623, 14.2235, 14.285, 14.3446, 14.4019, 14.4591, 14.5165, 14.5735, 14.6285, 14.6831, 14.7381, 14.7931, 14.8474, 14.9015, 14.9559, 15.0085, 15.0607, 15.1129, 15.1651, 15.217, 15.2691, 15.3217, 15.3725, 15.4221, 15.4726, 15.5238, 15.5744, 15.6244, 15.6748, 15.7249, 15.7765, 15.8274, 15.8791, 15.9307, 15.9826, 16.0357, 16.0889, 16.1416, 16.1948, 16.2482, 16.299, 16.3488, 16.3978, 16.4459, 16.4932, 16.5377, 16.5787, 16.6186, 16.6545, 16.6959, 16.7237], [9.3052, 9.3837, 9.4085, 9.442, 9.5088, 9.5761, 9.6473, 9.7209, 9.7826, 9.8625, 9.9059, 9.8143, 9.864, 9.948, 10.0128, 10.0561, 10.0847, 10.1209, 10.1563, 10.1917, 10.2429, 10.3037, 10.3562, 10.4237, 10.4887, 10.5647, 10.6448, 10.7153, 10.7829, 10.8373, 10.8945, 10.9603, 11.0441, 11.1277, 11.2067, 11.2893, 11.3667, 11.4413, 11.509, 11.5751, 11.6343, 11.6916, 11.7439, 11.7874, 11.8229, 11.8568, 11.8946, 11.9407, 11.9936, 12.0514, 12.1159, 12.1907, 12.2623, 12.3327, 12.4026, 12.4633, 12.5335, 12.6078, 12.6852, 12.7602, 12.826, 12.9052, 12.9881, 13.0713, 13.1616, 13.2571, 13.3529, 13.4536, 13.5545, 13.6531, 13.7533, 13.8521, 13.9497, 14.0458, 14.1346, 14.2186, 14.301, 14.3833, 14.4655, 14.5432, 14.6227, 14.7005, 14.7712, 14.8456, 14.9186, 14.9907, 15.0629, 15.1352, 15.2082, 15.2805, 15.3528, 15.4232, 15.491, 15.5576, 15.6224, 15.6857, 15.7487, 15.8148, 15.8805, 15.9463, 16.0126, 16.0791, 16.1458, 16.2136, 16.2839, 16.3569, 16.4338, 16.5109, 16.5885, 16.6683, 16.7454, 16.8231, 16.9012, 16.9809, 17.0587, 17.1319, 17.1976, 17.2576, 17.3086, 17.363, 17.3969], [10.1575, 10.2277, 10.295, 10.3566, 10.4227, 10.4887, 10.5579, 10.6256, 10.6915, 10.7614, 10.821, 10.8349, 10.8935, 10.9691, 11.0345, 11.0782, 11.1131, 11.1498, 11.1838, 11.2232, 11.2734, 11.3305, 11.3901, 11.4554, 11.5214, 11.5937, 11.6698, 11.7427, 11.8142, 11.8773, 11.9415, 12.0091, 12.0848, 12.1555, 12.2221, 12.2889, 12.3529, 12.4148, 12.475, 12.5336, 12.5836, 12.6323, 12.6746, 12.7119, 12.7437, 12.7732, 12.8064, 12.8463, 12.8936, 12.9455, 13.0028, 13.0648, 13.1252, 13.187, 13.2482, 13.3053, 13.3651, 13.4263, 13.4908, 13.5541, 13.6146, 13.6801, 13.7478, 13.8175, 13.8888, 13.963, 14.0379, 14.1166, 14.1947, 14.2709, 14.3501, 14.428, 14.5054, 14.5808, 14.6518, 14.7203, 14.7881, 14.8558, 14.9225, 14.9866, 15.0521, 15.1167, 15.1777, 15.2402, 15.3025, 15.3635, 15.4244, 15.4854, 15.547, 15.6082, 15.6694, 15.7299, 15.7884, 15.8455, 15.9024, 15.9592, 16.0156, 16.0732, 16.1302, 16.1867, 16.2436, 16.3, 16.3567, 16.414, 16.4726, 16.5332, 16.5959, 16.6588, 16.7224, 16.7872, 16.8499, 16.9129, 16.9756, 17.0387, 17.1004, 17.1579, 17.2095, 17.257, 17.298, 17.343, 17.372]] },
      option: {
        peopleSubject: {
          select: 'Biology',
          opt: peopleOpt
        },
        targetSubject: {
          select: ['Geology', 'Geography', 'Psychology', 'Philosophy', 'Mathematics', 'Physics', 'Biology',
            'Chemistry', 'Sociology', 'Economics', 'Political science', 'Linguistics', 'Computer science',
            'Materials science', 'Engineering disciplines', 'Environmental science', 'Medicine'],
          opt: ['Geology', 'Geography', 'Psychology', 'Philosophy', 'Mathematics', 'Physics', 'Biology',
            'Chemistry', 'Sociology', 'Economics', 'Political science', 'Linguistics', 'Computer science',
            'Materials science', 'Engineering disciplines', 'Environmental science', 'Medicine']
        },
        targetPeopleSubject: {
          select: ['Psychology', 'Philosophy', 'Mathematics', 'Physics', 'Biology',
            'Chemistry', 'Sociology', 'Linguistics', 'Computer science'],
          opt: peopleOpt
        },
        aSubject: {
          select: 'Biology',
          opt: ['Geology', 'Geography', 'Psychology', 'Philosophy', 'Mathematics', 'Physics', 'Biology',
            'Chemistry', 'Sociology', 'Economics', 'Political science', 'Linguistics', 'Computer science',
            'Materials science', 'Engineering disciplines', 'Environmental science', 'Medicine']
        },
        bPeopleSubject: {
          select: ['Psychology', 'Philosophy', 'Mathematics', 'Physics', 'Biology',
            'Chemistry', 'Sociology', 'Linguistics', 'Computer science'],
          opt: peopleOpt
        },
        method: {
          select: 'linksin',
          opt: ['linksin']
        }
      },
      loading2: false,
      loading: false,
      myChartIds: ['subjectChart1', 'subjectChart2', 'subjectChart3']
    }
  },
  computed: {
  },
  mounted() {
    this.getData()
  },
  methods: {
    async getSubjectDegree() {
      if (!this.option.peopleSubject.select || this.option.targetSubject.select.length === 0) {
        return false
      }
      this.loading = true
      const opt = {
        strA: this.option.peopleSubject.select,
        strB: this.option.targetSubject.select.join(','),
        // strB: this.option.targetSubject.select.filter(item => item !== this.option.peopleSubject.select).join(','),
        method: this.option.method.select,
        'btype': 'peopleAndCat',
        'type': 0
      }
      try {
        const retData = await requestWrap('/wiki/getDistanceByPeopleAndCats_newDB', 'POST', opt)
        console.log(retData)
        const _opt = this.setOptions(retData.data)
        this.myChartObjs[0].setOption(_opt, true)
      } catch (error) {
        this.$emit('emitMesage', '请求失败', error)
      } finally {
        this.loading = false
      }

      // const options = this.setOptions(chartData)
      // this.myChartObjs[0].setOption(options, true)
    },
    async getSubject2People() {
      if (!this.option.aSubject.select || this.option.bPeopleSubject.select.length === 0) {
        return false
      }
      this.loading2 = true
      const opt = {
        strA: this.option.aSubject.select,
        strB: this.option.bPeopleSubject.select.join(','),
        method: this.option.method.select,
        'btype': 'peopleAndCat',
        'type': 1
      }
      try {
        const retData = await requestWrap('/wiki/getDistanceByPeopleAndCats_newDB', 'POST', opt)
        console.log(retData)
        const _opt = this.setOptions(retData.data)
        this.myChartObjs[2].setOption(_opt, true)
      } catch (error) {
        this.$emit('emitMesage', '请求失败', error)
      } finally {
        this.loading2 = false
      }
    },
    async getPeopleDegree() {
      if (!this.option.peopleSubject.select || this.option.targetPeopleSubject.select.length === 0) {
        return false
      }
      this.loading = true
      const opt = {
        strA: this.option.peopleSubject.select,
        strB: this.option.targetPeopleSubject.select.filter(item => item !== this.option.peopleSubject.select).join(','),
        // strB: this.option.targetPeopleSubject.select.join(','),
        method: this.option.method.select,
        'btype': 'peopleAndPeople'
      }
      try {
        const retData = await requestWrap('/wiki/getDistanceByPeoples_newDB', 'POST', opt)

        const data = retData.data
        const _opt = extendEchartsOpts({
          title: {
            text: data.title,
            left: '35%'
          },
          legend: {
            data: data.legend
          },
          xAxis: {
            name: 'Year',
            type: 'category',
            boundaryGap: false,
            data: data.x
          },
          yAxis: {
            name: 'Semantic Distance',
            type: 'value',
            max: 1
          },
          series: data.y.map((item, index) => {
            return extendLineSeries({
              name: data.legend[index],
              type: 'line',
              smooth: false,
              data: item
            })
          })
        })
        console.log(_opt)
        this.myChartObjs[1].setOption(_opt, true)
      } catch (error) {
        this.$emit('emitMesage', '请求失败', error)
      } finally {
        this.loading = false
      }
    },
    async getData() {
      this.getSubjectDegree()
      this.getPeopleDegree()
      this.getSubject2People()
    },

    setOptions(data) {
      const _opt = extendEchartsOpts({
        title: {
          text: data.title,
          left: '35%'
        },
        legend: {
          data: data.legend
        },
        xAxis: {
          name: 'Year',
          type: 'category',
          boundaryGap: false,
          data: data.x
        },
        yAxis: {
          name: 'Semantic Distance',
          type: 'value',
          max: 1
        },
        series: data.y.map((item, index) => {
          return extendLineSeries({
            name: data.legend[index],
            type: 'line',
            smooth: false,
            data: item
          })
        })
      })
      return _opt
    }
  }
}
</script>
